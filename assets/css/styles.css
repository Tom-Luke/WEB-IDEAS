/* TerraFlow Pilates â€” Design System and Global Styles */
/* Color tokens: warm minimalism + natural sophistication */
:root {
  --color-bone: #F7F3EF;        /* warm off-white */
  --color-sand: #EAE0D5;        /* soft beige */
  --color-terracotta: #C46A4A;  /* terracotta */
  --color-sage: #A8B8A8;        /* sage green */
  --color-eucalyptus: #2E5B4E;  /* deep eucalyptus */
  --color-mocha: #6B4E3D;       /* rich warm brown */
  --color-ink: #2B2B28;         /* near-black charcoal */
  --color-cloud: #FFFFFF;       /* white */
  --color-shadow: rgba(0, 0, 0, 0.08);

  --font-heading: 'Outfit', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif;
  --font-body: 'Cormorant Garamond', Georgia, 'Times New Roman', Times, serif;

  --maxw: 1200px;
  --maxw-narrow: 900px;
  --radius-sm: 10px;
  --radius-md: 16px;
  --radius-lg: 28px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.04), 0 2px 8px rgba(0,0,0,0.06);
  --shadow-md: 0 8px 24px rgba(0,0,0,0.08);

  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;
  --space-20: 80px;

  --transition-fast: 180ms cubic-bezier(.2,.8,.2,1);
  --transition: 260ms cubic-bezier(.2,.8,.2,1);
  --transition-slow: 600ms cubic-bezier(.2,.8,.2,1);
}

/* Reset/normalize */
* { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; scroll-behavior: smooth; }

body {
  margin: 0;
  color: var(--color-ink);
  background: var(--color-bone) url('../img/texture-paper.svg');
  background-size: 600px 600px;
  font-family: var(--font-body);
  font-size: 18px;
  line-height: 1.6;
}

img, video { max-width: 100%; height: auto; display: block; }
video[poster] { background-color: #eae4dc; }

/* Typography */
h1, h2, h3, h4 { font-family: var(--font-heading); color: var(--color-ink); line-height: 1.15; }
h1 { font-size: clamp(2.2rem, 3vw + 1.2rem, 4rem); letter-spacing: 0.01em; }
h2 { font-size: clamp(1.6rem, 2vw + 1rem, 2.4rem); }
h3 { font-size: clamp(1.25rem, 1.2vw + 1rem, 1.6rem); }

p { margin: 0 0 var(--space-6); }

.lead {
  font-size: clamp(1.15rem, .5vw + 1rem, 1.35rem);
  color: #3b3b38;
}

.small { font-size: 0.95rem; color: #55544f; }

/* Links & buttons */
a { color: var(--color-eucalyptus); text-decoration: none; }
a:hover { text-decoration: underline; }

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 12px 18px; border-radius: 999px; font-family: var(--font-heading);
  font-weight: 600; border: 1px solid transparent; cursor: pointer;
  transition: transform var(--transition), background var(--transition), color var(--transition), border-color var(--transition);
}
.btn:focus-visible { outline: 2px solid var(--color-eucalyptus); outline-offset: 2px; }
.btn:hover { transform: translateY(-1px); }

.btn-primary { background: var(--color-mocha); color: var(--color-bone); border-color: var(--color-mocha); }
.btn-primary:hover { background: #5c4336; }

.btn-secondary { background: transparent; color: var(--color-mocha); border-color: var(--color-mocha); }
.btn-secondary:hover { background: rgba(107,78,61,0.08); }

.chip { display: inline-block; padding: 6px 10px; border-radius: 999px; background: #efe9e3; color: #594a3c; font-family: var(--font-heading); font-weight: 600; font-size: 0.85rem; }

/* Layout */
.container { width: min(100% - 2rem, var(--maxw)); margin-inline: auto; }
.container-narrow { width: min(100% - 2rem, var(--maxw-narrow)); margin-inline: auto; }

.section { padding: var(--space-16) 0; }
.section-tight { padding: var(--space-10) 0; }

.grid { display: grid; gap: var(--space-8); }
.grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
.grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
.grid-4 { grid-template-columns: repeat(4, minmax(0,1fr)); }

@media (max-width: 900px) {
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
}

.card { background: #fff; border-radius: var(--radius-lg); padding: var(--space-8); box-shadow: var(--shadow-sm); border: 1px solid #eee6dd; }
.surface { background: #fff; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); border: 1px solid #eee6dd; }

/* Header */
.skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
.skip-link:focus { position: fixed; left: 16px; top: 16px; width: auto; height: auto; background: var(--color-eucalyptus); color: #fff; padding: 10px 14px; border-radius: 8px; z-index: 10000; }

.site-header {
  position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(140%) blur(8px);
  background: color-mix(in oklab, var(--color-bone) 85%, transparent);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.navbar { display: flex; align-items: center; justify-content: space-between; gap: var(--space-6); padding: var(--space-4) 0; }
.brand { display: flex; align-items: center; gap: 12px; font-family: var(--font-heading); font-weight: 700; letter-spacing: 0.02em; color: var(--color-ink); }
.brand img { width: 28px; height: 28px; }

.navlinks { display: flex; align-items: center; gap: var(--space-6); }
.navlinks a { color: var(--color-ink); font-family: var(--font-heading); font-weight: 600; }
.navlinks a[aria-current="page"] { color: var(--color-eucalyptus); }

.nav-cta { display: flex; gap: 10px; align-items: center; }

.nav-toggle { display: none; background: transparent; border: none; padding: 8px; border-radius: 8px; }
.nav-toggle svg { width: 28px; height: 28px; }

@media (max-width: 900px) {
  .nav-toggle { display: inline-flex; }
  .navlinks { position: fixed; inset: 64px 0 auto 0; background: #fff; padding: 16px; flex-direction: column; gap: 16px; border-bottom: 1px solid #eee6dd; transform-origin: top; transform: scaleY(0); transition: transform var(--transition); }
  .navlinks[data-open="true"] { transform: scaleY(1); }
}

/* Hero */
.hero { position: relative; min-height: min(88vh, 1000px); display: grid; place-items: center; overflow: hidden; border-radius: 0 0 var(--radius-lg) var(--radius-lg); }
.hero video { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; filter: saturate(110%) contrast(98%); }
.hero video { object-position: center; }
.hero::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to top, rgba(247,243,239,0.85), rgba(247,243,239,0.35) 45%, rgba(247,243,239,0.10)); }
.hero-content { position: relative; text-align: center; padding: var(--space-16) var(--space-6); }
.hero h1 { margin: 0 0 var(--space-6); }
.hero .tagline { font-style: italic; font-size: clamp(1.1rem, 1vw + 1rem, 1.4rem); color: #3b3b38; }

/* Sections */
.kicker { letter-spacing: .14em; text-transform: uppercase; font-family: var(--font-heading); color: #6b6a66; font-weight: 700; font-size: .8rem; }

.section-header { display: grid; gap: var(--space-3); margin-bottom: var(--space-8); }

.highlight-card { display: grid; gap: var(--space-4); align-content: start; }
.highlight-card img { border-radius: var(--radius-md); box-shadow: var(--shadow-sm); border: 1px solid #eee6dd; }

.the-space { background: color-mix(in oklab, var(--color-sand) 10%, var(--color-bone)); border-top: 1px solid #eee6dd; border-bottom: 1px solid #eee6dd; }

.testimonial { display: grid; gap: var(--space-3); padding: var(--space-6); border: 1px solid #eee6dd; border-radius: var(--radius-md); background: #fff; box-shadow: var(--shadow-sm); }
.testimonial cite { color: #6b6a66; font-style: normal; font-family: var(--font-heading); font-weight: 600; }

/* Gallery */
.gallery { display: grid; gap: var(--space-6); grid-template-columns: repeat(3, minmax(0,1fr)); }
.gallery img { border-radius: var(--radius-lg); border: 1px solid #eee6dd; box-shadow: var(--shadow-sm); }
.gallery a { will-change: transform; }
.gallery a:hover img { transform: translateY(-2px); transition: transform var(--transition); }
@media (max-width: 900px) { .gallery { grid-template-columns: 1fr; } }

/* Lightbox */
.lightbox-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: grid; place-items: center; z-index: 1000; opacity: 0; pointer-events: none; transition: opacity var(--transition-slow); }
.lightbox-backdrop[data-open="true"] { opacity: 1; pointer-events: auto; }
.lightbox-dialog { background: #000; padding: 0; border-radius: 16px; max-width: 95vw; max-height: 90vh; display: grid; grid-template-rows: auto 1fr auto; overflow: hidden; }
.lightbox-toolbar { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 10px 12px; background: rgba(255,255,255,0.06); color: #fff; }
.lightbox-body { display: grid; place-items: center; background: #000; }
.lightbox-body img { width: 100%; height: 100%; max-height: 76vh; object-fit: contain; }
.lightbox-actions { display: flex; gap: 10px; justify-content: center; padding: 10px; background: rgba(255,255,255,0.06); }
.lightbox-actions .btn { background: rgba(255,255,255,0.08); color: #fff; border-color: rgba(255,255,255,0.2); }

/* Forms and inputs */
label { font-family: var(--font-heading); font-weight: 600; font-size: .95rem; color: #504f4b; }
.input, select, input[type="date"] {
  width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid #ddd5cc; background: #fff; font-family: var(--font-body); font-size: 1rem; color: var(--color-ink);
}
.controls { display: grid; gap: var(--space-4); grid-template-columns: repeat(3, minmax(0,1fr)); }
@media (max-width: 900px) { .controls { grid-template-columns: 1fr; } }

.badge { border-radius: 999px; padding: 4px 10px; font-family: var(--font-heading); font-weight: 700; font-size: .78rem; border: 1px solid #e7dfd6; background: #fff; color: #55473b; }
.badge.energize { background: #ffe9e2; color: #8a3b15; border-color: #ffd6c9; }
.badge.center { background: #e5efe7; color: #2d604f; border-color: #d0e5d6; }
.badge.restore { background: #efe9f6; color: #5f4a8d; border-color: #e1d7f0; }

.schedule-item { display: grid; grid-template-columns: 1fr auto; gap: var(--space-3); padding: 14px; border: 1px solid #eee6dd; border-radius: 14px; background: #fff; box-shadow: var(--shadow-sm); }
.schedule-item h4 { margin: 0; }
.schedule-meta { display: flex; gap: 10px; align-items: center; color: #6b6a66; font-family: var(--font-heading); font-weight: 600; font-size: .9rem; }

/* Footer */
.site-footer { margin-top: var(--space-20); padding: var(--space-12) 0 var(--space-16); background: #fff; border-top: 1px solid #eee6dd; }
.footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: var(--space-8); }
@media (max-width: 900px) { .footer-grid { grid-template-columns: 1fr; } }
.footer-brand { display: flex; gap: 12px; align-items: center; }
.footer-brand img { width: 36px; height: 36px; }
.footer-nav { display: grid; gap: 8px; }
.footer-nav a { color: #4a4a46; }

.hr { height: 1px; background: #eee6dd; margin: var(--space-8) 0; }

/* Utilities */
.visually-hidden { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
.reveal { opacity: 0; transform: translateY(8px); transition: opacity var(--transition-slow), transform var(--transition-slow); }
.reveal[data-visible="true"] { opacity: 1; transform: translateY(0); }

/* Accessibility & motion */
:focus-visible { outline: 2px solid var(--color-eucalyptus); outline-offset: 2px; }
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  .reveal, .hero, .navlinks { transition: none !important; }
}
